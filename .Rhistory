setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
data = data[,-1]
View(data)
names(data)
logit.x1 = glm(SeriousDlqin2yrs ~ NumberOfTime3059DaysPastDueNotWorse,
family = "binomial",
data = data)
summary(logit.x1)
logit.x1
names(logit.x1)
logit.x1$R
logit.x2 = glm(SeriousDlqin2yrs ~ NumberOfTime6089DaysPastDueNotWorse,
family = "binomial",
data = data)
summary(logit.x2)
names(logit.x2)
logit.x2$R
logit.x3 = glm(SeriousDlqin2yrs ~ NumberOfTimes90DaysLate,
family = "binomial",
data = data)
summary(logit.x3)
names(logit.x3)
logit.x3$R
logit.x1 = lrm(SeriousDlqin2yrs ~ NumberOfTime3059DaysPastDueNotWorse,
family = "binomial",
data = data)
summary(logit.x1)
logit.x1 = lrm(SeriousDlqin2yrs ~ NumberOfTime3059DaysPastDueNotWorse,data = data)
require(rms)
install.packages("rms")
require(rms)
logit.x1 = lrm(SeriousDlqin2yrs ~ NumberOfTime3059DaysPastDueNotWorse,data = data)
summary(logit.x1)
logit.x1
names(logit.x1)
logit.x2 = lrm(SeriousDlqin2yrs ~ NumberOfTime3059DaysPastDueNotWorse,data = data)
logit.x2
names(data)
logit.x2 = lrm(SeriousDlqin2yrs ~ NumberOfTime6089DaysPastDueNotWorse,data = data)
logit.x2
logit.x3 = lrm(SeriousDlqin2yrs ~ NumberOfTimes90DaysLate,data = data)
logit.x3
sum = sum(r)
r=c(0.105,0.089,0.119)
sum = sum(r)
sum
w1 = r[1]/sum
w2 = r[2]/sum
w3 = r[3]/sum
default_time = w1 * data$NumberOfTime3059DaysPastDueNotWorse +w2 * data$NumberOfTime6089DaysPastDueNotWorse + w3 * data$NumberOfTimes90DaysLate
default_time[1:6]
data = as.data.frame(cbind(data,default_time))
View(data)
data = data[,-c(4,8,10)]
write.csv(data,'cs-training-outlier-weight-f08.csv')
test = read.csv('./data/cs-training-outlier-f10.csv')
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
test = as.data.frame(cbind(test,default_time))
View(test)
test = read.csv('./data/cs-test-outlier-f10.csv')
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
test = as.data.frame(cbind(test,default_time))
View(test)
test = test[,-c(1,2,5,9,11)]
test = read.csv('./data/cs-test-outlier-f10.csv')
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
test = as.data.frame(cbind(test,default_time))
test = test[,-c(1,5,9,11)]
write.csv(test,'cs-test-outlier-weight-f08.csv')
View(test)
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
data = data[,-1]
data = as.data.frame(cbind(data,AgeRisk,default_time,DebtAmt,DepdRisk))
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
data = data[,-1]
AgeRisk=1:150000
for(i in 1:150000){
if(data$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(data$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(data$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(data$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(data$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
r=c(0.105,0.089,0.119)
sum = sum(r)
w1 = r[1]/sum
w2 = r[2]/sum
w3 = r[3]/sum
default_time = w1 * data$NumberOfTime3059DaysPastDueNotWorse +w2 * data$NumberOfTime6089DaysPastDueNotWorse + w3 * data$NumberOfTimes90DaysLate
DebtAmt = data$DebtRatio * as.numeric(data$MonthlyIncome)
DepdRisk = (data$NumberOfDependents) / as.numeric(data$MonthlyIncome)
data = as.data.frame(cbind(data,AgeRisk,default_time,DebtAmt,DepdRisk))
View(data)
data = data[,-c(3,4,5,6,8,10,11)]
write.csv(data,'cs-training-combine-f07.csv')
AgeRisk=1:101503
for(i in 1:101503){
if(test$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(test$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(test$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(test$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(test$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
DebtAmt = test$DebtRatio * as.numeric(test$MonthlyIncome)
DepdRisk = (test$NumberOfDependents) / as.numeric(test$MonthlyIncome)
test = as.data.frame(cbind(test,AgeRisk,default_time,DebtAmt,DepdRisk))
test = read.csv('./data/cs-test-outlier-f10.csv')
test = read.csv('./data/cs-test-outlier-f10.csv')
AgeRisk=1:101503
for(i in 1:101503){
if(test$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(test$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(test$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(test$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(test$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
DebtAmt = test$DebtRatio * as.numeric(test$MonthlyIncome)
DepdRisk = (test$NumberOfDependents) / as.numeric(test$MonthlyIncome)
test = as.data.frame(cbind(test,AgeRisk,default_time,DebtAmt,DepdRisk))
View(test)
test = test[,-c(1,3,4,5,6,8,10,11)]
write.csv(data,'cs-test-combine-f07.csv')
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
test = read.csv('./data/cs-test-outlier-f10.csv', header = T)
AgeRisk=1:150000
for(i in 1:150000){
if(data$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(data$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(data$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(data$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(data$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
View(data)
data = data[,-4]
data = as.data.frame(cbind(data,AgeRisk))
write.csv(data,'cs-training-outlier-agerisk-f10.csv')
test = read.csv('./data/cs-test-outlier-f10.csv', header = T)
AgeRisk=1:101503
for(i in 1:101503){
if(test$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(test$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(test$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(test$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(test$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
View(test)
test = test[,-4]
test = as.data.frame(cbind(test,AgeRisk))
write.csv(test,'cs-test-outlier-agerisk-f10.csv')
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
logit.x1 = lrm(SeriousDlqin2yrs ~ NumberOfTime3059DaysPastDueNotWorse,data = data)
logit.x1
logit.x2 = lrm(SeriousDlqin2yrs ~ NumberOfTime6089DaysPastDueNotWorse,data = data)
logit.x2
logit.x3 = lrm(SeriousDlqin2yrs ~ NumberOfTimes90DaysLate,data = data)
logit.x3
r=c(0.105,0.089,0.119)
sum = sum(r)
w1 = r[1]/sum
w2 = r[2]/sum
w3 = r[3]/sum
default_time = w1 * data$NumberOfTime3059DaysPastDueNotWorse +w2 * data$NumberOfTime6089DaysPastDueNotWorse + w3 * data$NumberOfTimes90DaysLate
data = as.data.frame(cbind(data,default_time))
View(data)
data = data[,-c(5,9,11)]
write.csv(data,'cs-training-outlier-weight-f08.csv')
test = read.csv('./data/cs-test-outlier-f10.csv')
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
test = as.data.frame(cbind(test,default_time))
View(test)
test = test[,-c(5,9,11)]
write.csv(test,'cs-test-outlier-weight-f08.csv')
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
DebtAmt = data$DebtRatio * as.numeric(data$MonthlyIncome)
data = as.data.frame(cbind(data, DebtAmt))
View(data)
write.csv(data,'cs-training-outlier-debt-f09.csv')
test = read.csv('./data/cs-test-outlier-f10.csv', header = T)
DebtAmt = test$DebtRatio * as.numeric(test$MonthlyIncome)
test = as.data.frame(cbind(test, DebtAmt))
test = test[,-c(5,6)]
write.csv(test,'cs-test-outlier-debt-f09.csv')
test = read.csv('./data/cs-test-outlier-f10.csv', header = T)
DebtAmt = test$DebtRatio * as.numeric(test$MonthlyIncome)
test = as.data.frame(cbind(test, DebtAmt))
test = test[,-c(6,7)]
write.csv(test,'cs-test-outlier-debt-f09.csv')
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
DepdRisk = (data$NumberOfDependents) / as.numeric(data$MonthlyIncome)
data = as.data.frame(cbind(data, DepdRisk))
data = data[,-c(7,12)]
write.csv(data,'cs-training-depdrisk-f09.csv')
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
test = read.csv('./data/cs-test-outlier-f10.csv', header = T)
DepdRisk = (test$NumberOfDependents) / as.numeric(test$MonthlyIncome)
test = as.data.frame(cbind(test, DepdRisk))
test = test[,-c(7,12)]
write.csv(data,'cs-test-depdrisk-f09.csv')
setwd('F:/Miaozhi/Academic/Data_Science/Bootcamp/Project_Capstone/nycdsa-capstone')
data = read.csv('./data/cs-training-outlier-f10.csv', header =T)
AgeRisk=1:150000
for(i in 1:150000){
if(data$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(data$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(data$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(data$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(data$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
r=c(0.105,0.089,0.119)
sum = sum(r)
w1 = r[1]/sum
w2 = r[2]/sum
w3 = r[3]/sum
default_time = w1 * data$NumberOfTime3059DaysPastDueNotWorse +w2 * data$NumberOfTime6089DaysPastDueNotWorse + w3 * data$NumberOfTimes90DaysLate
DebtAmt = data$DebtRatio * as.numeric(data$MonthlyIncome)
DepdRisk = (data$NumberOfDependents) / as.numeric(data$MonthlyIncome)
data = as.data.frame(cbind(data,AgeRisk,default_time,DebtAmt,DepdRisk))
data = data[,-c(4,5,6,7,9,11,12)]
write.csv(data,'cs-training-combine-f07.csv')
test = read.csv('./data/cs-test-outlier-f10.csv')
AgeRisk=1:101503
for(i in 1:101503){
if(test$age[i]<29){
AgeRisk[i]= 1-637/850
}else{
if(test$age[i]<39){
AgeRisk[i]=1-654/850
}else{
if(test$age[i]<49){
AgeRisk[i]=1-675/850
}else{
if(test$age[i]<59){
AgeRisk[i]=1-697/850
}else{
if(test$age[i]<69){
AgeRisk[i]=1-722/850
}else{
AgeRisk[i]=1-747/850
}
}
}
}
}
}
default_time = w1 * test$NumberOfTime3059DaysPastDueNotWorse +w2 * test$NumberOfTime6089DaysPastDueNotWorse + w3 * test$NumberOfTimes90DaysLate
DebtAmt = test$DebtRatio * as.numeric(test$MonthlyIncome)
DepdRisk = (test$NumberOfDependents) / as.numeric(test$MonthlyIncome)
test = as.data.frame(cbind(test,AgeRisk,default_time,DebtAmt,DepdRisk))
test = test[,-c(4,5,7,9,11,12)]
write.csv(test,'cs-test-combine-f07.csv')
